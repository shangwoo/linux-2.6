/*
 * Copyright 2014 Oleksij Rempel <linux@rempel-privat.de>
 *
 * The code contained herein is licensed under the GNU General Public
 * License. You may obtain a copy of the GNU General Public License
 * Version 2 or later at the following locations:
 *
 * http://www.opensource.org/licenses/gpl-license.html
 * http://www.gnu.org/copyleft/gpl.html
 */

#include "skeleton.dtsi"

/ {
	cpus {
		#address-cells = <0>;
		#size-cells = <0>;

		cpu {
			compatible = "arm,arm926ej-s";
			device_type = "cpu";
		};
	};

	soc {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "simple-bus";
                ranges;

		sregs@80040000 {
			compatible = "alpscale,asm9260-sregs";
			reg = <0x80040000 0x504>;

			clocks {
				#address-cells = <1>;
				#size-cells = <0>;

				osc24m: oscillator {
					compatible = "fixed-clock";
					#clock-cells = <0>;
					clock-frequency = <24000000>;
					clock-accuracy = <30000>;
				};

				pll: pll@0100 {
					compatible = "alpscale,asm9260-pll-clock";
					#clock-cells = <0>;
					clocks = <&osc24m>;
					reg = <0x0100>;
				};

				main_mux: main_mux@0120 {
					compatible = "alpscale,asm9260-bimux-clock";
					#clock-cells = <0>;
					clocks = <&osc24m>, <&pll>;
					mux-table = <0 1>;
					reg = <0x0120>;
				};

				cpu_div: cpu_div@017c {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&main_mux>;
					reg = <0x017c>;
				};

				ahb_div: ahb_div@0180 {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&cpu_div>;
					reg = <0x0180>;
				};

				/* uart related clocks */
				uart_mux: uart_mux@0128 {
					compatible = "alpscale,asm9260-bimux-clock";
					#clock-cells = <0>;
					clocks = <&osc24m>, <&pll>;
					mux-table = <0 1>;
					reg = <0x0128>;
				};

				uart_gate: uart_gate@012c {
					compatible = "alpscale,asm9260-gate-clock";
					#clock-cells = <0>;
					clocks = <&uart_mux>;
					reg = <0x012c>;
				};

				uart0_div: uart0_div@0198 {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&uart_gate>;
					reg = <0x0198>;
				};
				uart1_div: uart1_div@019c {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&uart_gate>;
					reg = <0x019c>;
				};
				uart2_div: uart2_div@01a0 {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&uart_gate>;
					reg = <0x01a0>;
				};
				uart3_div: uart3_div@01a4 {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&uart_gate>;
					reg = <0x01a4>;
				};
				uart4_div: uart4_div@01a8 {
					compatible = "alpscale,asm9260-div-clock";
					#clock-cells = <0>;
					clocks = <&uart_gate>;
					reg = <0x01a8>;
				};


			};
		};
	};
};
